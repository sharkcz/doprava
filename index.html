<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="utf-8">
    <title>doprava</title>
    <link rel="stylesheet" type="text/css" media="all" href="css/main.css">
    <script type="text/javascript" src="js/sharkodlak/functions.js"></script>
    <script type="text/javascript" src="js/sharkodlak/ajax.js"></script>
    <script type="text/javascript" src="js/sharkodlak/errors.js"></script>
    <script type="text/javascript" src="js/sharkodlak/patterns/Listener.js"></script>
    <script type="text/javascript" src="js/sharkodlak/patterns/Listenable.js"></script>
    <script type="text/javascript" src="js/sharkodlak/webGl/Engine.js"></script>
    <script type="text/javascript" src="js/sharkodlak/webGl/Shader.js"></script>
    <script type="text/javascript" src="js/sharkodlak/webGl/FragmentShader.js"></script>
    <script type="text/javascript" src="js/sharkodlak/webGl/VertexShader.js"></script>
    <script type="text/javascript" src="js/sharkodlak/webGl/Program.js"></script>
    <script type="text/javascript">
        window.onload = function() {
            'use strict'; // JavaScript strict mode
            var canvasSelector = 'canvas';
            var glEngine = new sharkodlak.webGl.Engine(canvasSelector);
            var fragmentShader = new sharkodlak.webGl.FragmentShader();
            var vertexShader = new sharkodlak.webGl.VertexShader();
            var main = function(engine, program) {
                var gl = engine.gl;
                var positionLocation = gl.getAttribLocation(program, 'position');
                var posBuffer = gl.createBuffer();
                var pointsCoordinates = [
                    0, 0,
                    0.5, 0.5,
                    -0.75, 0,
                    0.5, -0.5
                ];
                pointsCoordinates.dimensions = 2;
                var pointPosition = new Float32Array(pointsCoordinates);
                
                gl.enableVertexAttribArray(positionLocation);
                gl.bindBuffer(gl.ARRAY_BUFFER, posBuffer);
                gl.bufferData(gl.ARRAY_BUFFER, pointPosition, gl.STATIC_DRAW);
                gl.vertexAttribPointer(positionLocation, pointsCoordinates.dimensions, gl.FLOAT, false, 0, 0);
                gl.clearColor(0.0, 0.0, 0.0, 1.0);
                gl.clear(gl.COLOR_BUFFER_BIT);
                gl.drawArrays(gl.POINTS, 0, pointsCoordinates.length / pointsCoordinates.dimensions);
            };
            
            fragmentShader.setSourceUrl('shaders/fragment.gl');
            vertexShader.setSourceUrl('shaders/vertex.gl');
            glEngine.debug = true;
            glEngine.setProgram(fragmentShader, vertexShader, main);
        }
    </script>
</head>
<body>

<canvas></canvas>